<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Active Rental Contracts</title>
	<link rel="stylesheet" href="/style.css">
</head>

<body>
	<div>

		<nav>
			<a href="/admin-index"><img src="BILABONNEMENT_LOGO.png" alt="Logo" class="nav-img"></a>
			<div class="nav-links">
				<a href="/">Kundeside</a>
				<a href="/admin-active-rental-contracts">Aktive udlejninger</a>
				<a href="/admin-rentals-today">Dagens udlejninger</a>
				<a href="/admin-highlighted-cars">Fremhæv biler</a>
				<a href="/admin-cars">Biler</a>
				<a href="/admin-purchase-contracts">Købskontrakter</a>
				<a href="/admin-login" class="log-out">Log ud</a>
			</div>
		</nav>

		<a href="/admin-index" class="btn">Tilbage</a>

		<div class="page-info">
			<h1>Aktive lejekontrakter</h1>
			<p>Her finder du en liste over alle aktive udlejninger</p>
		</div>

		<table class="list-of-cars">
			<thead>
				<tr>
					<th>Kontrakt ID</th>
					<th>Bil ID</th>
					<th>Fra dato</th>
					<th>Til dato</th>
					<th>Pris pr. måned (DKK)</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="contract : ${activeRentalContracts}">
					<td th:text="${contract.id}"></td>
					<td th:text="${contract.carId}"></td>
					<td th:text="${#temporals.format(contract.fromDateTime, 'dd-MM-yyyy HH:mm')}">
					</td>
					<td th:text="${#temporals.format(contract.toDateTime, 'dd-MM-yyyy HH:mm')}">
					</td>
					<td class="price"
						th:text="${#numbers.formatDecimal(carsById[contract.carId].monthlyPrice, 1, 2)} + ' DKK'">
					</td>
					<td><a th:href="@{/admin-update-vehicle-report(id=${contract.vehicleReportId})}"><button>Fejl
								og mangler</button></a></td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td><strong>Total Sum:</strong></td>
					<td th:text="${#numbers.formatDecimal(totalSum, 1, 2)} + ' DKK'"></td>
				</tr>
			</tfoot>
		</table>
	</div>
</body>

</html>
